(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))p(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&p(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function p(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();const P="modulepreload",x=function(c){return"/bay-area-motorcycle-crashes/"+c},M={},T=function(d,a,p){if(!a||a.length===0)return d();const o=document.getElementsByTagName("link");return Promise.all(a.map(r=>{if(r=x(r),r in M)return;M[r]=!0;const f=r.endsWith(".css"),I=f?'[rel="stylesheet"]':"";if(!!p)for(let v=o.length-1;v>=0;v--){const w=o[v];if(w.href===r&&(!f||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${I}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":P,f||(m.as="script",m.crossOrigin=""),m.href=r,document.head.appendChild(m),f)return new Promise((v,w)=>{m.addEventListener("load",v),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>d())};var E={},C={get exports(){return E},set exports(c){E=c}};/*! pym.js - v1.3.2 - 2018-02-13 */(function(c){(function(d){c.exports?c.exports=d():window.pym=d.call(this)})(function(){var d="xPYMx",a={},p=function(s){var n=document.createEvent("Event");n.initEvent("pym:"+s,!0,!0),document.dispatchEvent(n)},o=function(s){var n=new RegExp("[\\?&]"+s.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),l=n.exec(location.search);return l===null?"":decodeURIComponent(l[1].replace(/\+/g," "))},r=function(s,n){if(!(n.xdomain!=="*"&&!s.origin.match(new RegExp(n.xdomain+"$")))&&typeof s.data=="string")return!0},f=function(s){var n=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi;if(s.match(n))return!0},I=function(s,n,l){var u=["pym",s,n,l];return u.join(d)},_=function(s){var n=["pym",s,"(\\S+)","(.*)"];return new RegExp("^"+n.join(d)+"$")},m=Date.now||function(){return new Date().getTime()},v=function(s,n,l){var u,t,e,i=null,h=0;l||(l={});var g=function(){h=l.leading===!1?0:m(),i=null,e=s.apply(u,t),i||(u=t=null)};return function(){var b=m();!h&&l.leading===!1&&(h=b);var y=n-(b-h);return u=this,t=arguments,y<=0||y>n?(i&&(clearTimeout(i),i=null),h=b,e=s.apply(u,t),i||(u=t=null)):!i&&l.trailing!==!1&&(i=setTimeout(g,y)),e}},w=function(){for(var s=a.autoInitInstances.length,n=s-1;n>=0;n--){var l=a.autoInitInstances[n];l.el.getElementsByTagName("iframe").length&&l.el.getElementsByTagName("iframe")[0].contentWindow||a.autoInitInstances.splice(n,1)}};return a.autoInitInstances=[],a.autoInit=function(s){var n=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),l=n.length;w();for(var u=0;u<l;++u){var t=n[u];t.setAttribute("data-pym-auto-initialized",""),t.id===""&&(t.id="pym-"+u+"-"+Math.random().toString(36).substr(2,5));var e=t.getAttribute("data-pym-src"),i={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},h={};for(var g in i)if(t.getAttribute("data-pym-"+g)!==null)switch(i[g]){case"boolean":h[g]=t.getAttribute("data-pym-"+g)!=="false";break;case"string":h[g]=t.getAttribute("data-pym-"+g);break;case"number":var b=Number(t.getAttribute("data-pym-"+g));isNaN(b)||(h[g]=b);break;default:console.err("unrecognized attribute type")}var y=new a.Parent(t.id,e,h);a.autoInitInstances.push(y)}return s||p("pym-initialized"),a.autoInitInstances},a.Parent=function(s,n,l){this.id=s,this.url=n,this.el=document.getElementById(s),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=_(this.id),this.messageHandlers={},l=l||{},this._constructIframe=function(){var t=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var e="",i=this.url.indexOf("#");for(i>-1&&(e=this.url.substring(i,this.url.length),this.url=this.url.substring(0,i)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+t+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=e,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),this.settings.allowfullscreen!==void 0&&this.settings.allowfullscreen!==!1&&this.iframe.setAttribute("allowfullscreen",""),this.settings.sandbox!==void 0&&typeof this.settings.sandbox=="string"&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}.bind(this),this._onScroll=function(){this.sendViewportAndIFramePosition()}.bind(this),this._fire=function(t,e){if(t in this.messageHandlers)for(var i=0;i<this.messageHandlers[t].length;i++)this.messageHandlers[t][i].call(this,e)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),w()},this._processMessage=function(t){if(r(t,this.settings)&&typeof t.data=="string"){var e=t.data.match(this.messageRegex);if(!e||e.length!==3)return!1;var i=e[1],h=e[2];this._fire(i,h)}}.bind(this),this._onHeightMessage=function(t){var e=parseInt(t);this.iframe.setAttribute("height",e+"px")},this._onNavigateToMessage=function(t){f(t)&&(document.location.href=t)},this._onScrollToChildPosMessage=function(t){var e=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset,i=e+parseInt(t);window.scrollTo(0,i)},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this.sendMessage=function(t,e){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(I(this.id,t,e),"*"):this.remove())},this.sendWidth=function(){var t=this.el.offsetWidth.toString();this.sendMessage("width",t)},this.sendViewportAndIFramePosition=function(){var t=this.iframe.getBoundingClientRect(),e=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,h=e+" "+i;h+=" "+t.top+" "+t.left,h+=" "+t.bottom+" "+t.right,this.sendMessage("viewport-iframe-position",h)};for(var u in l)this.settings[u]=l[u];return this._throttleOnScroll=v(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},a.Child=function(s){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},s=s||{},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this._fire=function(t,e){if(t in this.messageHandlers)for(var i=0;i<this.messageHandlers[t].length;i++)this.messageHandlers[t][i].call(this,e)},this._processMessage=function(t){if(r(t,this.settings)&&typeof t.data=="string"){var e=t.data.match(this.messageRegex);if(!(!e||e.length!==3)){var i=e[1],h=e[2];this._fire(i,h)}}}.bind(this),this._onWidthMessage=function(t){var e=parseInt(t);e!==this.parentWidth&&(this.parentWidth=e,this.settings.renderCallback&&this.settings.renderCallback(e),this.sendHeight())},this.sendMessage=function(t,e){window.parent.postMessage(I(this.id,t,e),"*")},this.sendHeight=function(){var t=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",t),t}.bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(t){this.sendMessage("navigateTo","#"+t)},this.navigateParentTo=function(t){this.sendMessage("navigateTo",t)},this.scrollParentToChildEl=function(t){var e=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(e)},this.scrollParentToChildPos=function(t){this.sendMessage("scrollToChildPos",t.toString())};var n=function(t){var e=document.getElementsByTagName("html")[0],i,h=e.className;try{window.self!==window.top?i="embedded":i="not-embedded"}catch{i="embedded"}h.indexOf(i)<0&&(e.className=h?h+" "+i:i,t&&t(i),p("marked-embedded"))};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var l in s)this.settings[l]=s[l];this.id=o("childId")||s.id,this.messageRegex=new RegExp("^pym"+d+this.id+d+"(\\S+)"+d+"(.*)$");var u=parseInt(o("initialWidth"));return this.parentUrl=o(this.settings.parenturlparam),this.parentTitle=o("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(u),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),n(s.onMarkedEmbeddedStatus),this},typeof document<"u"&&a.autoInit(!0),a})})(C);const R=E,S=c=>document.querySelector(c),A=(c,d=300)=>{let a;return(...p)=>{clearTimeout(a),a=setTimeout(()=>{c.apply(globalThis,p)},d)}},H=()=>new URLSearchParams(window.location.search.slice(1)),N=c=>{const{history:d,title:a}=window;d.replaceState(null,a,`?${c.toString()}`)};export{S as $,T as _,A as d,H as g,R as p,N as u};
